# link_shortener
Тестовое задание: написать API, которое будет принимать полную ссылку и возвращать сокращенную


деплой: <a href="https://git-link-shortner.herokuapp.com/">git-link-shortner.herokuapp.com/</a>

API имеет следующие эндпоинты:
/api - Принимает POST, DELETE, PUT:
1. POST - для добавления ссылок в базу и возврат короткой ссылки в ответе.<br>
  Запрос: JSON ``{"link": ссылка_для_сокращения}``<br>
  Ответ: JSON ``{"short link": сокращенная_ссылка}``<br>
  
  Если запись уже есть в базе, возвращает код 400
  Если запрос сформирован неправильно, возвращает код 422
  
2. DELETE для удаления ссылок из базы с обращением по ссылке<br>
  Запрос: JSON ``{"link": ссылка_для_сокращения}``<br>
  Ответ: JSON ``{"message": "Ссылка удалена!"}``<br>
  
  Если записи нет в базе, возвращает код 400
  
3. PUT для изменения ссылки<br>
  Запроса JSON ``{"link": старая_ссылка, "new_link": новая_ссылка}``<br>
  Ответ JSON ``{"message": "Ссылка: сокращенная_ссылка"}``<br>
  
  Если новая ссылка уже существует, возвращает ответ короткую ссылку от уже существующей
  Если новая ссылка не существует, создает новую ссылку и удает старую
  Если старая ссылка не существует, возвращает код 400
  
Для удобства использования на страницах "/" и "/index" находится swagger, в котором можно посмотреть какие запросы и куда можно сделать


Что не получилось:
Генератор документации возвращает некорректные схемы из-за использования одного и того же параметра для apispec.use_kwargs(валидатор параметров для входящих запросов). И данные валидируются и обрабатываются корректно, но сама документация содержит неправильные поля.
